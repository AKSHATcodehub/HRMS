<div class="dropdown-container">
    <mat-form-field style="width: 100%;" appearance="outline">
        <mat-select [formControl]="controlName">
            <mat-option disabled>
                <input type="text" matInput [formControl]="filter" placeholder="Filter...">
            </mat-option>
    
            <mat-option value="" *ngIf="control.value && !filter.value"></mat-option>
            <ng-container *ngIf="filtedOptions | async as filted">
                <mat-option disabled *ngIf="filted.length == 0">No Option Found</mat-option>
                <mat-option *ngFor="let opt of options" [value]="opt.value" [ngStyle]="getOptionStyle(opt, filted)">{{ opt.label }}</mat-option>
            </ng-container>
        </mat-select>
        <mat-error>this field is required</mat-error>
    </mat-form-field>
</div>